/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package kotlinmud

import com.commit451.mailgun.Mailgun
import kotlin.test.Test
import kotlin.test.assertNotNull
import kotlinmud.action.createActionsList
import kotlinmud.app.App
import kotlinmud.fs.saver.WorldSaver
import kotlinmud.io.NIOServer
import kotlinmud.service.ActionService
import kotlinmud.service.EmailService
import kotlinmud.service.EventService
import kotlinmud.service.ItemService
import kotlinmud.service.MobService
import kotlinmud.service.PlayerService
import kotlinmud.service.TimeService
import kotlinmud.service.WeatherService
import kotlinmud.world.World

class AppTest {
    @Test
    fun testAppSanityCheck() {
        // setup
        val world = World(listOf())
        val eventService = EventService()
        val server = NIOServer(eventService)
        val mobService = MobService(
            ItemService(),
            eventService,
            world
        )

        // when
        val app = App(
            eventService,
            mobService,
            TimeService(eventService),
            server,
            ActionService(mobService, ItemService(), eventService, WeatherService(), server, createActionsList(WorldSaver(world))),
            PlayerService(EmailService(Mailgun.Builder("", "").build()))
        )

        // then
        assertNotNull(app, "app should have a greeting")
    }
}
